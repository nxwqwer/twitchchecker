# 트위치 체커 (twitchchecker.py)
- 트위치 녹화 파일을 검사하는 프로그램입니다.
- 트위치 메타데이터가 손상되지 않은 원본 상태로 녹화된 ts 파일만 검사할 수 있습니다.
- [twitchchecker.py](https://github.com/nxwqwer/twitchchecker.py/blob/main/twitchchecker.py) 에서 코드를 복사해서 사용하시면 됩니다.
- 프로그램 공유시 되도록이면 해당 깃허브 링크를 이용하여 공유해주시길 바랍니다.
- 질문, 문의사항, 버그 제보, 개선 의견 같은게 있다면 [트위치개발 채널](https://arca.live/b/twitchdev) 또는 [바바는바바야 채널](https://arca.live/b/nxwqwer) 에 작성해주세요.

# 4.0 변경사항 (23.02.05)
- 명령창에 ```pip install opencv-python``` 를 입력하여 cv2 모듈을 설치하는걸 권장드립니다만, 일부 사용자들을 위해 cv2 없이도 대부분의 기능들이 작동 하도록 수정했습니다. (cv2 모듈이 없다면 화질과 프레임 정보가 표시되지 않습니다.)
- 상황에 맞는 다양한 옵션들을 추가했고 버그 수정이 진행되었습니다.
- 손실 정보에 대해서 자세히 출력하도록 변경되었습니다.
 
# 설정하기
* 기본 옵션으로 사용해도 되지만 ```def setting(self):``` 부분을 수정하여 세부적인 옵션을 설정을 할 수 있습니다.

* ### ```location_force```
      검사하고 싶은 경로가 항상 일정한 경우를 위해 강제로 위치를 지정할 수 있습니다.
      예를들어 "c://record/2023" 와 같은 형식을 사용하면 됩니다.

* ### ```location```
      location_force 값을 설정하지 않은 경우 location 옵션값에 따라 작업경로가 설정됩니다.
      location 값이 0인 경우, 코드 실행 위치가 기준이 됩니다.
      location 값이 1인 경우, twitchchecker.py 파일이 있는 위치가 기준이 됩니다.

* ### ```files```
      files 값이 0인 경우, 파일 탐색기 창이 켜지며 파일을 고를 수 있습니다. (다중 선택도 가능)
      files 값이 1인 경우, 작업경로에 있는 파일들을 검사합니다.
      files 값이 2인 경우, 작업경로와 모든 하위 폴더에 있는 파일들을 검사합니다.
      다만, files 값이 1,2 인 경우 0.ts, 0-muted.ts 같은 파일은 검사에서 제외됩니다.

* ### ```files_slug```
      검사할 파일 확장자 입니다.
      인코딩 없이 단순히 확장자만 바꾸는 분들을 위한 기능입니다.
      어차피 검사할 수 없는 파일을 선택한 경우 자동으로 건너 뜁니다.

* ### ```log```
      로그 작성 여부입니다.
      log 값이 0인 경우, 로그 파일을 작성하지 않습니다.
      log 값이 1인 경우, 단일 파일 로그를 작성합니다.
      log 값이 2인 경우, 검사하는 파일마다 로그를 작성합니다.

* ### ```log_force```
      검사하려는 파일이 다중 로그를 통해 이미 로그가 작성되어었으며
      해당 검사를 진행했을때와 파일 용량이 동일하다면 자동으로 검사를 건너뜁니다.
      하지만 log_force 값이 True 인 경우 해당 검사를 건너뛰지 않고 강제로 검사를 합니다.
      코드 테스트 용으로 있는 옵션이니 False 값을 권장드립니다.

* ### ```log1_name```
      log 값이 1인 경우 단일 로그 파일이 생성되는데 해당 로그 파일명을 지정할 수 있습니다.
      datetime 포멧을 지원하기에 예를들어 "%Y-%m-%dT.txt" 와 같은 파일명으로 지정할 수 있습니다.

* ### ```log1_mode```
      log 값이 1인 경우 단일 로그 파일이 생성되는데 해당 로그 파일명이 가변적이지 않는 경우에
      log1_mode 값이 wt인 경우 작업을 할때마다 단일 파일 로그 내용이 새로 작성됩니다.
      log1_mode 값이 at인 경우 로그 내용이 누적되어 저장됩니다.

* ### ```log2_slug```
      log 값이 2인 경우 검사 파일별로 로그 파일이 생성되는데
      검사 파일명에서 확장자를 log2_slug 로 바꾼 파일명으로 로그파일이 생성됩니다.

* ### ```loop```
      반복 작업 옵션입니다.
      files 값이 0인 경우 작업이 끝난 뒤 enter 를 누르면 다시 파일탐색기가 띄어집니다.
      files 값이 1 이나 2인 경우 해당 작업 경로에서 검사가 끝난 뒤 반복해서 실행이 됩니다.

* ### ```loop_delay```
      files 값이 1 이나 2인 경우 검사가 끝난 뒤 자동으로 반복실행이 되는데
      loop_delay 값에 해당하는 초 만큼 딜레이를 적용합니다.
